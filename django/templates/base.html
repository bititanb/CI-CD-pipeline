{% extends 'bootstrap3/bootstrap3.html' %}

{% load bootstrap3 %}
{% load staticfiles %}

{% block bootstrap3_title %}
    {% block title %}
    {% endblock %}
{% endblock %}

{# block just before closing </head> #}
{% block bootstrap3_extra_head %}
    <link href='{% static "tasks/css/base.css" %}' rel="stylesheet">
    <link href='{% static "tasks/css/dropdowns-enhancement.css" %}' rel="stylesheet">
{% endblock %}

{% block bootstrap3_content %}
{% url 'tasklist_all' as tasklist_all %}
{% url 'tasklist_uncategorized' as tasklist_uncategorized %}
{% url 'categorylist' as categorylist %}
{% url 'account_login' as login %}
{% url 'account_signup' as signup %}
{% url 'account_logout' as logout %}
{% url 'account_email' as email %}
{% url 'account_change_password' as change_password %}
<nav class="navbar navbar-inverse">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="{{ tasklist_all }}">taskmngr</a>
        </div>
        <div class="collapse navbar-collapse" id="myNavbar">
          <ul class="nav navbar-nav navbar-left">
                {% if user.is_authenticated %}
                <li><a href="{{ tasklist_all }}">Tasks</a></li>
                <li><a href="{{ categorylist }}">Categories</a></li>
                {% endif %}
          </ul>
            <ul class="nav navbar-nav navbar-right">
                {% if user.is_authenticated %}
                <li><a href="{{ email }}">{{ user.email }}</a></li>
                <li><a href="{{ logout }}">Log Out</a></li>
                {% else %}
                <li><a href="{{ login }}">Login</a></li>
                <li><a href="{{ signup }}">Sign Up</a></li>
                {% endif %}
                <li class="hidden-sm hidden-md hidden-lg dropdown"> <a href="#" data-toggle="dropdown">Categories <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        <li class="dropdown-submenu"><a href="#"  data-toggle="dropdown">Action</a>
                            <ul class="dropdown-menu">
                                <li><a href="#" >Sub Action</a></li>
                                <li class="dropdown-submenu"><a href="#"  data-toggle="dropdown">Another sub action</a>
                                    <ul class="dropdown-menu">
                                        <li><a href="#" >Sub Action</a></li>
                                        <li><a href="#" >Another sub action</a></li>
                                        <li><a href="#" >Something else here</a></li>
                                    </ul>
                                </li>
                                <li><a href="#" >Something else here</a></li>
                            </ul>
                        </li>
                        <li class="dropdown-submenu"><a href="#"  data-toggle="dropdown">Another action</a>
                            <ul class="dropdown-menu">
                                <li><a href="#" >Sub Action</a></li>
                                <li><a href="#" >Another sub action</a></li>
                                <li><a href="#" >Something else here</a></li>
                            </ul>
                        </li>
                        <li><a href="#" >Something else here</a></li>
                        <li class="divider"></li>
                        <li><a href="#" >Separated link</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>

{% block content %}
{% endblock %}

{% endblock %}

{# block just before closing </body> #}
{% block bootstrap3_extra_script %}
    <script src='{% static "tasks/js/dropdowns_enhancement.js" %}'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/autosize.js/3.0.20/autosize.min.js'></script>
    <script src='{% static "tasks/js/custom.js" %}'></script>
{% endblock %}
